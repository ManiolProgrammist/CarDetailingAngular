<app-order-template-details-component *ngIf="orderTemplateToEdit" [pickedOrderTemplate]="pickedOrderTemplate">
</app-order-template-details-component>

<app-order-template-component *ngIf="orderTemplateInfo" [pickedOrderTemplate]="pickedOrderTemplate">
</app-order-template-component>
<button *ngIf="editButton" (click)="EditButtonClick()">Edytuj ten template</button>
<form #form="ngForm" autocomplete="off">
    <div class="container-fluid" *ngIf="orderDetails.StartOfOrder">
        <div class="row">
            <div class="progress-bar col" [style]="{'--width':progressWidth}"
                attr.data-label="Postęp w wykonywaniu zlecenia: {{progressWidth}} %"
            >

            </div>
        </div>
        <br>
    </div>

    <div class="form-group">


        <!-- grupa inputu - tutaj razem zgrupowana np ikona jakaś -->
        <div class="row input-group  " *ngIf="orderDetails.OrderId">

            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 col-md-offset-3"></div>
            <!-- <div *ngIf="!IsEdit" class="col-md-2 input-group-text bg-info">
                    Login
                </div> -->
            <div class="col-md-3 input-group-text bg-info">
                OrderId
            </div>

            <!-- #OrdersTemplate.Name - local reference -->
            <!-- two way data binding [(ngModel)]=" OrdersTemplate.Name" nazwa z property "orderService" w payment-detail.component.ts (to co dajemy w konstruktorze) -->
            <div class="col-md-3 input-group-text">
                {{ orderDetails.OrderId}}
            </div>

            <!-- <input type="text" name="Login" #Login="ngModel" [(ngModel)]=" orderDetails.OrderId"
                    class="col-md-4 form-control" placeholder="Login" [readonly]="true" required />
     -->
        </div>
        <div class="row input-group hoverable" (click)="ShowOrderTDetails(orderDetails.OrdersTemplate)">

            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 col-md-offset-3"></div>
            <div class="col-md-3 input-group-text bg-info">
                Nazwa Usługi
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!OrdersTemplateName.touched"
                    [class.bg-success]="OrdersTemplateName.valid && OrdersTemplateName.touched"
                    [class.bg-danger]="OrdersTemplateName.invalid && OrdersTemplateName.touched">
                    Nazwa Usługi
                </div> -->

            <!-- #OrdersTemplate.Name - local reference -->
            <!-- two way data binding [(ngModel)]=" OrdersTemplate.Name" nazwa z property "orderService" w payment-detail.component.ts (to co dajemy w konstruktorze) -->
            <div class="col-md-3 input-group-text">
                {{orderDetails.OrdersTemplate.Name}}
            </div>

        </div>
        <div class="row input-group hoverable" (click)="ShowOrderTDetails(orderDetails.OrdersTemplate)">

            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 col-md-offset-3"></div>
            <div class="col-md-3 input-group-text bg-info">
                Id Usługi
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!OrdersTemplateName.touched"
                    [class.bg-success]="OrdersTemplateName.valid && OrdersTemplateName.touched"
                    [class.bg-danger]="OrdersTemplateName.invalid && OrdersTemplateName.touched">
                    Nazwa Usługi
                </div> -->

            <!-- #OrdersTemplate.Name - local reference -->
            <!-- two way data binding [(ngModel)]=" .OrdersTemplate.Name" nazwa z property " " w payment-detail.component.ts (to co dajemy w konstruktorze) -->
            <div class="col-md-3 input-group-text">
                {{orderDetails.OrdersTemplate.OrderTemplateId}}
            </div>

        </div>


        <!-- grupa inputu - tutaj razem zgrupowana np ikona jakaś -->
        <div class="row input-group hoverable" (click)="ShowUserDetail()" *ngIf="orderDetails.User">
            <div class="col-md-3 col-md-offset-3"></div>
            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 input-group-text bg-info">
                Imię i nazwisko użytkownika
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                    [class.bg-success]="Surname.valid && Surname.touched"
                    [class.bg-danger]="Surname.invalid && Surname.touched">
                    Nazwisko
                </div> -->
            <div class="col-md-3 input-group-text">
                {{ orderDetails.User.FirstName}} {{ orderDetails.User.Surname}}
            </div>
        </div>
        <div class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>
            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 input-group-text bg-info">
                Cena
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                    [class.bg-success]="Surname.valid && Surname.touched"
                    [class.bg-danger]="Surname.invalid && Surname.touched">
                    Nazwisko
                </div> -->
            <div class="col-md-3 input-group-text">
                {{ orderDetails.Cost}}
            </div>
        </div>
        <div *ngIf="orderDetails.OrderDate">
            <div class="row input-group">
                <div class="col-md-3 col-md-offset-3"></div>
                <!-- [co się dzieje z klasą]="warunek" -->
                <div class="col-md-3 input-group-text bg-info">
                    Czy zlecenie opłacone:
                </div>
                <div class="col-md-3 input-group-text">
                    {{orderDetails.IsPaid}}
                </div>
            </div>
            <div class="row input-group">
                <div class="col-md-3 col-md-offset-3"></div>
                <!-- [co się dzieje z klasą]="warunek" -->
                <div class="col-md-3 input-group-text bg-info">
                    Czy zlecenie zaczęte:
                </div>
                <div class="col-md-3 input-group-text">
                    {{orderDetails.IsOrderStarted}}
                </div>
            </div>
            <div class="row input-group">
                <div class="col-md-3 col-md-offset-3"></div>
                <!-- [co się dzieje z klasą]="warunek" -->
                <div class="col-md-3 input-group-text bg-info">
                    Czy zlecenie zakończone:
                </div>
                <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                    [class.bg-success]="Surname.valid && Surname.touched"
                    [class.bg-danger]="Surname.invalid && Surname.touched">
                    Nazwisko
                </div> -->
                <div class="col-md-3 input-group-text">
                    {{ orderDetails.IsOrderCompleted}}
                </div>
            </div>
            <div class="row input-group">
                <div class="col-md-3 col-md-offset-3"></div>
                <!-- [co się dzieje z klasą]="warunek" -->
                <div class="col-md-3 input-group-text bg-info">
                    Data Złożenia zlecenia:
                </div>
                <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                    [class.bg-success]="Surname.valid && Surname.touched"
                    [class.bg-danger]="Surname.invalid && Surname.touched">
                    Nazwisko
                </div> -->
                <div class="col-md-3 input-group-text">
                    {{ CutDate(orderDetails.OrderDate)}}
                </div>
            </div>
        </div>
        <div *ngIf=" orderDetails.ExpectedStartOfOrder" class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>
            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 input-group-text bg-info">
                Przewidywany czas startu:
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                        [class.bg-success]="Surname.valid && Surname.touched"
                        [class.bg-danger]="Surname.invalid && Surname.touched">
                        Nazwisko
                    </div> -->
            <div class="col-md-3 input-group-text">
                {{ CutDate(orderDetails.ExpectedStartOfOrder)}}
            </div>
        </div>
        <div *ngIf=" orderDetails.StartOfOrder" class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>
            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 input-group-text bg-info">
                Właściwy start zlecenia:
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                        [class.bg-success]="Surname.valid && Surname.touched"
                        [class.bg-danger]="Surname.invalid && Surname.touched">
                        Nazwisko
                    </div> -->
            <div class="col-md-3 input-group-text">
                {{ CutDate(orderDetails.StartOfOrder)}}
            </div>
        </div>


        <div *ngIf=" orderDetails.CompletedOrderDate" class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>
            <!-- [co się dzieje z klasą]="warunek" -->
            <div class="col-md-3 input-group-text bg-info">
                Data zakończenia zlecenia:
            </div>
            <!-- <div *ngIf="IsEdit" class="col-md-2 input-group-text" [class.bg-info]="!Surname.touched"
                            [class.bg-success]="Surname.valid && Surname.touched"
                            [class.bg-danger]="Surname.invalid && Surname.touched">
                            Nazwisko
                        </div> -->
            <div class="col-md-3 input-group-text">
                {{ CutDate(orderDetails.CompletedOrderDate)}}
            </div>
        </div>
        <div *ngIf=" orderDetails.delays" class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>
            <div class="col-md-3 input-group-text bg-info">
                Opóźnienia:
            </div>
            <div class="col-md-3 input-group-text">
                {{ orderDetails.delays*15}} Min
            </div>
        </div>
        <br />
        <div *ngIf=" orderDetails.OrdersInformations" class=" container-fluid ">
           
            <div class="row input-group" *ngFor="let ul of  orderDetails.OrdersInformations">
                <div class="col-md-3 col-md-offset-3"></div>
                <div class="col-md-3 input-group-text">
                    {{ul.TypeOfInformation}}
                </div>
                <textarea class="col-md-3" value="{{ul.Information}}" style="word-wrap: break-word;" [disabled]="true">
    
                </textarea>
                <div class="col-sm-1">
                    <div class="row">
                    
                        <input class="col-sm-12 btn btn-danger" value="X" (click)="RemoveNotice(ul.InformationId)"/>
                </div>
                </div>
                <div class="col-md-2 col-md-offset-2"></div>
            </div>
     
        </div>
        <div *ngIf="addNotice" class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>

            <textarea name="NoticeR" #NoticeR="ngModel" [(ngModel)]="notice" class="form-control col" rows="3"
                placeholder="tekst notatki"></textarea>
                <div class="col-md-3 col-md-offset-3"></div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row input-group">
            <div class="col-md-3 col-md-offset-3"></div>
            <input class="col btn  btn-light" type="button" *ngIf="!addNotice" (click)="AddNotice()" value="Dodaj notatkę" />
            <input class="col btn  btn-light" type="button" *ngIf="addNotice" (click)="AddNotice()" value="Zatwierdź notatkę" />
            <input *ngIf="!orderDetails.IsPaid" type="button" (click)="PayForOrder()" class="col btn  btn-info"
                value="Zapłać (PayU)" />
            <input *ngIf="orderDetails.IsPaid" type="button" class="col btn  btn-info" value="Usługa Opłacona"
                [disabled]="true" />
            <div class="col-md-3 col-md-offset-3"></div>
        </div>
    </div>
</form>